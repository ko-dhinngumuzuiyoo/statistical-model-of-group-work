# 都道府県別交通事故死亡率 × 高齢化・クルマ依存度（統計モデリング課題）

このリポジトリは、「都道府県別の交通事故死亡率」を  
**高齢化の進展度合い**と**クルマ依存度（自動車保有台数 / 人口）**で説明する  
ポアソン回帰モデルを構築するためのコードとデータをまとめたものです。

## 1. 分析の概要

- 単位：47都道府県
- 年度：2023年
- 目的：
  - 都道府県別の「人口あたり交通事故死亡率」の違いを、
    - 高齢化率
    - クルマ依存度（人口あたり自動車保有台数）
    でどの程度説明できるかを調べる
- モデル：
  - 一般化線形モデル（GLM）
  - 分布：ポアソン分布
  - リンク関数：log
  - offset：log(人口)

数式イメージ：

\`\`\`
log(λ_i) = log(population_i)
         + β0
         + β1 * elderly_rate_i
         + β2 * car_ownership_per_cap_i
\`\`\`

## 2. 使用データ

### 2.1 都道府県別交通事故死者数（2023年）

- ファイル：`3都道府県別交通事故死者数.csv`
- 出典：
  - e-Stat「道路の交通に関する統計 交通事故死者数について 年次 2023年」
  - 表3「都道府県別交通事故死者数」
- 内容：
  - 都道府県別の2021〜2023年の交通事故死者数
  - うち「2023年の死者数」を目的変数 `deaths` として使用

### 2.2 人口・高齢化率（2023年10月1日）

- ファイル：
  - `a01100_2.xlsx`（人口推計 第11表）
  - （必要に応じて）`a01200_2.xlsx`（第12表：割合版）
- 出典：
  - e-Stat「人口推計 各年10月1日現在人口 年次 2023年」
- 内容：
  - 都道府県別の総人口（単位：千人）
  - 65歳以上人口（単位：千人）
  - これらから以下の変数を作成：
    - `population`：総人口
    - `elderly_rate`：65歳以上人口 / 総人口

### 2.3 自動車保有台数（クルマ依存度）

- ファイル：`r5c6pv0000013d12.xlsx`
- 出典：
  - 一般財団法人 自動車検査登録情報協会（AIRIA）
  - 「都道府県別・車種別保有台数表」
- 内容：
  - 都道府県別の車種別自動車保有台数
  - 主要車種を合計して
    - `cars_total`：総自動車保有台数
  - さらに人口で割って
    - `car_per_1000`：人口1000人あたり自動車台数

## 3. ファイル構成（想定）

- `analysis.py`  
  データ読み込み・整形・ポアソン回帰モデルの実行スクリプト

- `3都道府県別交通事故死者数.csv`  
  交通事故死者数データ（e-Stat）

- `a01100_2.xlsx`  
  人口推計（第11表）

- `a01200_2.xlsx`（任意）  
  人口推計（第12表：割合）

- `r5c6pv0000013d12.xlsx`  
  自動車保有台数データ（AIRIA）

- （今後追加予定）  
  - `plots.py` ：図表作成用コード  
  - `figures/` ：出力されたグラフ画像

## 4. 実行方法

### 4.1 必要なライブラリ

Python 3.x を前提としています。  
以下のライブラリをインストールしてください：

\`\`\bash
pip install pandas statsmodels openpyxl matplotlib
\`\`\

### 4.2 モデル推定

1. 上記のデータファイルをこのリポジトリのルートディレクトリに置く
2. ターミナルでディレクトリに移動して、次を実行：

\`\`\bash
python analysis.py
\`\`\

- 標準出力に
  - 前処理後のデータフレーム（先頭5行）
  - 記述統計量（`df.describe()`）
  - ポアソン回帰の結果（`result.summary()`）
  が表示されます。
